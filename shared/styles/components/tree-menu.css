/* ========================================
 * Tree Menu Component Styles
 * 트리 메뉴 컴포넌트 스타일
 * ======================================== */

/* Tree Menu Container (nav) */
.tree-menu {
  width: 100%;
}

.tree-menu > ul {
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: column;
  gap: 4px;
}

/* Tree Menu Item (li) */
.tree-menu-item {
  display: grid;
  grid-template-columns: 1fr auto;
  gap: 0;
  overflow: hidden;
  transition: all 0.2s ease-in-out;
}

/* 링크와 토글 버튼을 같은 행에 배치 (첫 번째 행) */
.tree-menu-item > a.tree-menu-item__link {
  grid-column: 1;
  grid-row: 1;
}

/* 토글 버튼이 있는 경우 */
.tree-menu-item > button.tree-menu-item__toggle {
  grid-column: 2;
  grid-row: 1;
}

/* 토글 버튼이 없는 경우 (leaf node) - 링크가 전체 너비 사용 */
.tree-menu-item:not(:has(button.tree-menu-item__toggle))
  > a.tree-menu-item__link {
  grid-column: 1 / -1;
}

/* 서브메뉴는 두 번째 행에 배치 */
.tree-menu-item > ul.tree-menu-item__submenu {
  grid-column: 1 / -1;
  grid-row: 2;
}

/* Tree Menu Link */
.tree-menu-item__link {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 10px 16px;
  background: transparent;
  border: none;
  color: var(--text-primary);
  cursor: pointer;
  text-align: left;
  text-decoration: none;
  border-radius: 8px;
  transition: all 0.2s ease-in-out;
}

.tree-menu-item__link:hover {
  color: var(--primary-600);
  background-color: var(--gray-100);
}

[data-theme="dark"] .tree-menu-item__link:hover {
  color: var(--primary-400);
  background-color: var(--gray-800);
}

.tree-menu-item__text {
  font: var(--h5);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Tree Menu Toggle Button (오른쪽 배치) */
.tree-menu-item__toggle {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 10px;
  min-width: 28px;
  min-height: 28px;
  background: transparent;
  border: none;
  cursor: pointer;
  color: var(--text-primary);
  border-radius: 4px;
  transition: all 0.2s ease-in-out;
}

.tree-menu-item__toggle:hover {
  background-color: var(--gray-200);
  color: var(--text-primary);
}

[data-theme="dark"] .tree-menu-item__toggle {
  color: var(--text-primary);
}

[data-theme="dark"] .tree-menu-item__toggle:hover {
  background-color: var(--gray-700);
  color: var(--text-primary);
}

.tree-menu-item__toggle .icon {
  width: 24px;
  height: 24px;
  transition: transform 0.2s ease-in-out;
}

.tree-menu-item--expanded .tree-menu-item__toggle .icon {
  transform: rotate(180deg);
}

/* Tree Menu Submenu */
.tree-menu-item__submenu {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.1s ease-out;
  list-style: none;
  margin: 0;
  padding: 4px 0;
}

.tree-menu-item--expanded .tree-menu-item__submenu {
  max-height: 999px;
  transition: max-height 0.2s ease-in;
}

/* Tree Submenu Item */
.tree-menu-item__submenu > li {
  padding: 3px 16px;
}

.tree-submenu__link {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 6px 8px;
  color: var(--gray-600);
  text-decoration: none;
  font: var(--sub-md-xs);
  transition: background-color 0.2s ease-in-out, color 0.2s ease-in-out;
  border-radius: 4px;
}

[data-theme="dark"] .tree-submenu__link {
  color: var(--gray-400);
}

.tree-submenu__link:hover {
  color: var(--text-primary);
  background-color: var(--gray-100);
}

[data-theme="dark"] .tree-submenu__link:hover {
  color: var(--text-primary);
  background-color: var(--gray-800);
}

.tree-submenu__link .icon {
  width: 16px;
  height: 16px;
  flex-shrink: 0;
  color: var(--gray-500);
}

[data-theme="dark"] .tree-submenu__link .icon {
  color: var(--gray-500);
}

.tree-submenu__link span {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  flex: 1;
}

/* Tree Menu States */
.tree-menu-item--expanded > a.tree-menu-item__link {
  background-color: var(--gray-50);
  color: var(--primary-600);
  font-weight: 600;
}

[data-theme="dark"] .tree-menu-item--expanded > a.tree-menu-item__link {
  background-color: var(--gray-800);
  color: var(--primary-400);
}

/* Tree Menu Active States */
.tree-menu-item--active > a.tree-menu-item__link {
  background-color: var(--primary-50);
  color: var(--primary-700);
  font-weight: 600;
}

[data-theme="dark"] .tree-menu-item--active > a.tree-menu-item__link {
  background-color: var(--primary-900);
  color: var(--primary-300);
}

/* Expanded + Active 동시 적용 (Active 우선) */
.tree-menu-item--expanded.tree-menu-item--active > a.tree-menu-item__link {
  background-color: var(--primary-50);
  color: var(--primary-700);
  font-weight: 600;
}

[data-theme="dark"]
  .tree-menu-item--expanded.tree-menu-item--active
  > a.tree-menu-item__link {
  background-color: var(--primary-900);
  color: var(--primary-300);
}

.tree-submenu__link--active {
  background-color: var(--primary-50);
  color: var(--primary-700);
  font-weight: 600;
}

[data-theme="dark"] .tree-submenu__link--active {
  background-color: var(--primary-900);
  color: var(--primary-300);
}

.tree-submenu__link--active .icon {
  color: var(--primary-600);
}

[data-theme="dark"] .tree-submenu__link--active .icon {
  color: var(--primary-400);
}

/* Tree Menu with Badge/Chip */
.tree-menu-item__link .chip {
  margin-left: auto;
  flex-shrink: 0;
}

.tree-submenu__link .chip {
  margin-left: auto;
  flex-shrink: 0;
}

/* Tree Menu Modes */
/* Accordion 모드와 Multi-expand 모드는 JavaScript로 처리됨 */
